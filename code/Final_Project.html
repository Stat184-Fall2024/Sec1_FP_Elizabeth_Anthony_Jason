<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Anthony B., Elizabeth S., Jason Z.">

<title>Stat 184 Final Project: The Effects of Weekend Alcohol Consumption and Absences on GPA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Final_Project_files/libs/clipboard/clipboard.min.js"></script>
<script src="Final_Project_files/libs/quarto-html/quarto.js"></script>
<script src="Final_Project_files/libs/quarto-html/popper.min.js"></script>
<script src="Final_Project_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Final_Project_files/libs/quarto-html/anchor.min.js"></script>
<link href="Final_Project_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Final_Project_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Final_Project_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Final_Project_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Final_Project_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="Final_Project_files/libs/kePrint-0.0.1/kePrint.js"></script>

<link href="Final_Project_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">



</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Stat 184 Final Project: The Effects of Weekend Alcohol Consumption and Absences on GPA</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Anthony B., Elizabeth S., Jason Z. </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<section id="research-questions" class="level2">
<h2 class="anchored" data-anchor-id="research-questions">Research Questions</h2>
<p>For our final project, we are interested in how a student’s lifestyle affects their GPA. We consider two research questions: our initial research question is <em>“Does alcohol consumption on the weekend negatively impact GPA?”</em>, and to better understand the nature of variable distributions as well as to contrast the first research question, we consider a second research question <em>“Do absences have a negative impact on GPA?”</em></p>
<p>We are correlating weekend alcohol consumption and absences with GPA instead of “study” (referring to study ours), since studying is…</p>
<ol type="1">
<li><p>Obvious— recommended by teachers, internet resources, and its benefits observed throughout one’s studies, college or not, and therefore our research would be redundant, and</p></li>
<li><p>Because students who study have social lives (to some degree or other) and, given the novelty of the college experience and to drinking and parties in general, should be made aware of the impact it has had for other students. With our research, we hope that they might rethink the degree and/or frequency of their behaviors depending on the results of our data analysis.</p></li>
</ol>
<p>One last consideration: it should be noted that <strong>behaviors have consequences.</strong> While it’s possible to “make up for” flawed behavior, the number of hours one can allocate is the sum of the hours in a day. Therefore, there is an innate trade-off that will afflict every student. However, the degree of the trade-off is what we will be considering. If the trade-off for drinking every night is a tentative 5% decrease in GPA, that is magnitudes less important a realization compared to a 50% decrease in GPA. Thus, our analysis will focus on deducing that degree of exigence, such that students can reduce the “flawed behavior”, or at least deduce what went wrong in the event their actions had repercussions.</p>
</section>
<section id="data-introduction" class="level2">
<h2 class="anchored" data-anchor-id="data-introduction">Data Introduction</h2>
<p>We are using a dataset from the website Kaggle, which has a public catalog free for anyone to use. The specific dataset that we landed on was <code>student_lifestyle_dataset.csv</code>. It is a dataset collected by Sumit Kumar, a researcher from India for the academic year from August 2023 to May 2024 that monitored student’s (primarily from India) lifestyle habits in college.</p>
<p>It has 2000 cases each identified by a number going from 1-2000, with a recorded value for seven variables about their daily lifestyle, including ones of interest for us: sleep hours, social hours, and GPA (The author noted in a response to a comment that CGPA values were converted to GPA values to ensure usability for international researchers).</p>
<p>Our second dataset is also from Kaggle. It is data collected from a survey in math and Portuguese language classes of students in secondary (high) school. The data is split into two csv’s— <code>student-mat.csv</code> and <code>student-por.csv</code>— but we merged the two to create one big dataset and will use that in our analysis. Our final merged dataset contains 33 variables and 396 cases.</p>
</section>
<section id="analysis-outline" class="level2">
<h2 class="anchored" data-anchor-id="analysis-outline">Analysis Outline</h2>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<caption>Summary Statistics for Average Grade</caption>
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Mean</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Median</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Mode</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Standard Deviation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">0.5744063</td>
<td style="text-align: center;">0.575</td>
<td style="text-align: center;">0.6</td>
<td style="text-align: center;">0.163364</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Our analysis will be focused on how many different variables impact a students average grade.Here we can see some basic information about average student grades. Most notably the average is low, being below 60%. Also the standard deviation is relatively large which give some insight to the variability of our data. We will take these into account when exploring our two analysis questions.</p>
<p>First we are going to look at the analysis of weekend alcohol consumption (WALC) on GPA. Going into this analysis, we are hypothesizing that there is a negative correlation between the two, that the more alcohol consumption a student partakes in, the lower their GPA would be.</p>
<p>Second, we will look at the impact of absences on GPA as well. At face-level, we think that absences will also negatively correlate with GPA, as we think that going to class is interrelated to succeeding academically. Therefore, the similarities between the effect of absences and alcohol will be useful as reference and to understand the nature of the dataset itself.</p>
<p><strong>FAIR and CARE Principles</strong></p>
<p>Our data meets the FAIR principles because we state our dataset title and exact file name in this document, so readers can use the exact same dataset if they wish to investigate our conclusions or perform their own research. We have a detailed description of how we found our data and what we intended to use it for in the earlier sections “Data Introduction” and “Aanalysis Outline”. Therefore, our data is easily findable, the data attached to this project so that it may easily be shared, the project itself on GitHub and in a universal <code>.qmd</code> format, and the contents of the data reusable because we plainly state that it is raw, but processed in this <code>.qmd</code>.</p>
<p>Regarding CARE principles, our data was collected through surveys in Math and Portuguese language courses. The students themselves voluntarily passed their survey information to the creator of this dataset, and the findings are used responsibly only to uncover and forewarn about the negative consequences of certain behavior. Therefore, this data was clearly given by each individual purely out of their own volition, and in this paper was used responsibly, ethically, and for the collective benefit of <em>all</em> people (students, anyways).</p>
</section>
</section>
<section id="data-analysis" class="level1">
<h1>Data Analysis</h1>
<section id="impact-of-weekend-drinking-on-grade-performance" class="level2">
<h2 class="anchored" data-anchor-id="impact-of-weekend-drinking-on-grade-performance">Impact of Weekend Drinking on Grade Performance</h2>
<p>This section will cover the analysis of weekend alcohol consumption and its relation to GPA. As stated in the introduction, this analysis is conducted on a combined data set of both the Math and Portuguese class. The analysis will be broken down into two parts:</p>
<ol type="1">
<li><p><strong>Distribution of Drinking Habits:</strong> Understanding the distribution will help to contextualize our later analysis on the results being representative versus outliers.</p></li>
<li><p><strong>Weekend Alcohol Consumption vs GPA:</strong> Visualizing the two variables to uncover the exact relationship between them.</p></li>
</ol>
</section>
<section id="distribution-of-drinking-habits" class="level2">
<h2 class="anchored" data-anchor-id="distribution-of-drinking-habits">Distribution of Drinking Habits</h2>
<div class="cell" data-figure-cap="Figure 1.1: Histogram-distribution of Weekend Alcohol Consumption">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final_Project_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>With this plot we can see the distribution of students and their tendencies to drink alcohol on the weekends. To expand on the caption, the dataset (and thus this visualization) were measured with a scale between 1 and 5, with 1 being “very low” (very little to none consumed), and 5 being “very high” (a lot consumed). We can see that over a third of the 396 students fall into the “very little to none consumed” category. Furthermore, there is a strong leftward skew towards not drinking a lot: the amount of students steeply descends as the amount of alcohol consumes increments upwards. The combined amount of students who rated their drinking “4” or “5” combined is equal to the amount of students who rated their drinking <em>either</em> “2” <em>or</em> “3”, and each of those is only half the number of students who rated themselves “1”.</p>
<p>Basically, we should make note of the fact that the distribution of students drinking a moderate amount is not that high, and there are even less data on students drinking a lot (4- or 5-rating). That’s not to say that the sample size is insufficient, though, just that these behaviors are “extreme” (statistically speaking) for the student body and thus the students involved “exceptional” (statistically speaking).</p>
</section>
<section id="weekend-alcohol-consumption-vs-gpa" class="level2">
<h2 class="anchored" data-anchor-id="weekend-alcohol-consumption-vs-gpa">Weekend Alcohol Consumption vs GPA</h2>
<div class="cell" data-figure-cap="Figure 1.2: Weekend Alcohol Consumption and its impact on Average Grade">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final_Project_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here we can see a comparison of Weekend Alcohol Consumption for students, and the distribution of their average grade. This box plot shows 5 boxes, each representing 1 level of weekend drinking. As established in the last section, level 1 being “very low” (infrequent/no drinking), and level 5 being “very high” (frequent drinking). The dots on the plot represent outliers: students with abnormally low average grades to the point they are more-accurately visualized as points than as part of the lowest quartile.</p>
<p>From this visualization we can learn a few things:</p>
<ul>
<li><p>Students who consume less school on weekends <strong>will have higher grades on average.</strong> This can be seen with the black line in the middle of the box that represents that rating’s “median average grade”. We can see that the black line drops slightly with each increment of weekend alcohol consumption, indicating that <em>the average grade is decreasing</em> as weekend alcohol consumption is increasing. The decrease is from 60% (1-rating) to 55% (5-rating).</p></li>
<li><p>There is a larger distribution of average grades in levels 1 and 2 of alcohol consumption compared to higher levels. This relates back to the distribution chart we generated earlier: in that chart we observed that there are more students that fall into the lower levels than the higher levels. It’s worth keeping in mind that the quartile-variation (the amount of white area above and below the median line) in 1 and 2 is greater than the rest. Perhaps that’s simply because <em>most of the students, good or bad, are in that category</em>. But an alternative explanation is that <em>there may be other variables that factor into a students average grade.</em></p></li>
<li><p>The lower quartile (the black line below the thicker median line) is roughly the same <em>regardless of how low or high the alcohol consumption rating gets</em> (with exception to a 5-rating). The upper quartile, on the other hand, drops significantly as alcohol consumption increases, dropping from 73% (1-rating) to 63% (5-rating).</p></li>
</ul>
</section>
<section id="findings-for-question-1" class="level2">
<h2 class="anchored" data-anchor-id="findings-for-question-1">Findings For Question #1</h2>
<p>From our analysis, we observed a noticeable trend between weekend drinking habits and students’ average grades. The visualization revealed a slight but consistent decline in average grades as the level of weekend alcohol consumption increased— it decreased from an average of 60% (“very low” weekend alcohol consumption) to 55% (“very high” weekend alcohol consumption). Although that decrease was not substantial, it did steadily decrease at all levels, as did the lower and upper quartilles with all levels to a varying degree. Therefore, based on these findings, we can conclude that:</p>
<ol type="1">
<li><p><strong>Increased frequency of drinking on weekends is associated with lower average grades</strong>. While not to that strong of a degree, an average 5%-decrease in median average grade still is a substantial drop-off. And given that the averages for these classes are only 55% to 60%, it is certainly possible that the decrease is amplified for courses which expect a 75%-85% average. Therefore, in the context of US grade averages, this would be a letter-grade’s worth in drop off.</p></li>
<li><p><strong>Increased frequency of drinking on weekends doesn’t substantially impact lower-performing students</strong>, as the visualization in Figure 1.2 indicates a stagnant lower-quartile within 1-2% range-difference. This has no causative explanation, though, so lower-performing students should <em>not</em> arrive at the conclusion that their performance isn’t impacted by alcohol.</p></li>
<li><p><strong>Increased frequency of drinking on weekends is strongly associated with a drop in exceptional-performance</strong>, as the visualization in Figure 1.2 indicates a substantial -10% across the upper quartile from 73% (“very low”) to 63% (“very high”). While not certainly-causative— perhaps every student who drinks some degree of alcohol is just a less-academically-able person— there is a strong correlation, and therefore students who want to maintain a high-grade standard should avoid consuming alcohol with any significant quantity or frequency.</p></li>
</ol>
</section>
</section>
<section id="impact-of-absences-on-grade-performace" class="level1 page-columns page-full">
<h1>Impact of Absences on Grade Performace</h1>
<p>As we observed from our analysis of weekend alcohol consumption on GPA, there is a moderate inversely-proportional relationship between the “degree of drinking” of college students on weekends and their average performance between the two courses, Math and Portuguese.</p>
<p>However, as also mentioned during the previous data analysis, the difference is incremental with perhaps a 10% change in GPA between the most-infrequent and most-frequent drinkers. There are a number of ways to interpret this, as also mentioned in the previous data analysis: for starters, that the classes are relatively easy and thus the behavior quite unimpactful on the average GPA, or perhaps that students’ perception of their drinking compared to others is completely off-kilter. Regardless, the lack of change in the data is concerning.</p>
<p>Our next question will resolve or reinforce some of our doubts: depending on the reported impact or lack thereof of absences on GPA, our certainty in the conclusions for Alcohol to GPA may or may not waver.</p>
<p>Thus, we plan to investigate and judge several traits of the dataset with respect to itself, alcohol, and GPA:</p>
<ol type="1">
<li><p><strong>Distribution of Absences:</strong> It’s important to consider which parts of the distribution are outliers, if any.</p></li>
<li><p><strong>Absences vs GPA:</strong> How does a comparable box plot of absences sharing the same scale as GPA compare?</p></li>
<li><p><strong>Absences vs Alcohol:</strong> Are these two variables correlated?</p></li>
</ol>
<section id="distribution-of-absences" class="level2">
<h2 class="anchored" data-anchor-id="distribution-of-absences">Distribution of Absences</h2>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Final_Project_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Figure 2.1:&nbsp;The distribution of absence frequencies for students, calculated by the median absense across both classes.</figcaption>
</figure>
</div>
</div>
</div>
<p>Here, we observe that the vast majority of students— around 95% of them— miss between 0 and 15 absences Around three-foruths of students miss less than 5 classes. The range of students absent for between 10 and 15 classes accounts for around 7% of the absences. Past that point, the range between between 15 and 20 absences accounts for about 3% of the dataset, which comprise our outliers. Past <em>that</em> are our extreme outliers: around 2% of the dataset are outliers ranging from 20 and 30 absences, and between 40 and 45 absences accounting for another 1% of the dataset.</p>
<p>With that in mind…</p>
<ul>
<li>The students missing between 0 and 10 classes can be considered the “effective student body” for absence-based conclusions,</li>
<li>The range between 10 and 20 the “regular” outliers, and</li>
<li>Any student absent for more than 20 classes can be considered an extreme outlier.</li>
</ul>
<p>However, it is important to note that these statistics are deflated somewhat. As the histogram illustrates “Average Absences”— the median between absences in Math and Portuguese— the cases where a student is absent predominantly in one class or the other are not distinguished. Therefore, the distribution for each individual class is likely more skewed than the distribution due to this graph flattening those outliers through the averaging process.</p>
</section>
<section id="absences-vs-gpa" class="level2">
<h2 class="anchored" data-anchor-id="absences-vs-gpa">Absences vs GPA</h2>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Final_Project_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Figure 2.2:&nbsp;Effect of Absences on GPA</figcaption>
</figure>
</div>
</div>
</div>
<p>To add some context to this data, the “absence” statistic in this dataset is a number ranging from 0 - 93, with 93 being the number of days in a semester. Also, each histogram represents the minimum of a bin-width of 5; for example, “0” indicates the distribution of data between 0 and 5 absences. And with that being said, the trend this dataset is illustrating is in-line with both our expected reality and the alcohol distribution, for within the “normal range” specified earlier (Section: “Distribution of Absences”).</p>
<ul>
<li><p>Students missing between 0 and 15 classes are well-positioned to achieve normal grades. Though slightly less likely to obtain stores well above the median (a 3rd quadrant of about 0.7 versus 0.65), students within the 10 and 15 absence range are equally poised to perform about or slightly below the median grade.</p></li>
<li><p>Students missing between 15 and 20 courses see a drop-off on all fronts, be it their ability to exceed or even just obtaining the median. It can be observed that the drop-off is only a 7%-or-so dip in students’ average grade, from roughly 57% to roughly 50% median.</p></li>
<li><p>Students missing between 20 and 25 courses see a further drop-off, reaching a 10%-or-so dip from the initial 57% to a low 47% median average grade. This is at the end of the “outliers” specified earlier, and still affirms the inverse correlation between absences and grade.</p></li>
<li><p>Students exceeding 25 absences have a comparable distribution of GPA compared to students missing between 10 and 15 courses. Notably, this <em>exceeds</em> the performance of students missing between 15 and 25 courses, and therefore are in-contradiction to our hypothesis. However, since these are outliers <em>even among the “Distribution of Absences” dataset</em>, these outliers are infrequent enough to not meaningfully contradict our hypothesis— we can safely ignore them as the product of special circumstance.</p></li>
</ul>
<p>Overall, in both instances, going to the extremes in their respective flawed behavior drops off their median GPA by about 7%. The distribution by-and-large affirms the conclusions arrived at in the first hypothesis: alcohol <em>is</em> affecting student performance, just not that substantially… but is that really the case? Is the problem that alcohol, absence, and all these flawed behaviors negligibly affect grade outcomes?</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Final_Project_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Figure 2.3:&nbsp;Effect of Absences in Either Class on Grade</figcaption>
</figure>
</div>
</div>
</div>
<p>This visualization suggests that the reason why grade may or may not diminish because of flawed behavior can be explained by the “degree of participation” required for a course. One (arbitrary) way to define classes as “participatory” versus not is with the drop-off of grade between the the data points accounting for “averages” across 90% of students. In the above line plot, the drop-off is…</p>
<ul>
<li>-5% (<code>0-5</code> to <code>5-10</code>), -5% (<code>5-10</code> to <code>10-15</code>), and -13% (<code>10-15</code> to <code>15-20</code>) for Portuguese students, and</li>
<li>-0% (<code>0-5</code> to <code>5-10</code>), -5% (<code>5-10</code> to <code>10-15</code>), and -10% (<code>10-15</code> to <code>15-20</code>) for Math students.</li>
</ul>
<p>As can be seen, in a course like Portuguese where there is a grade-response for missing an additional 5 courses on average (0-5 to 5-10 courses)— which we might call a “strong-participatory” course— there is a steeper drop-off for students taking the behavior to the extreme. In this case, we see a -13% Portuguese drop-off compared to -10% for a Math drop-off.</p>
<p>Therefore, the data sets support the interpretation that the relatively-small drop-off is not just a product of flawed behavior being relatively-inconsequential, but rather the class’s “degree of participation” muffling the effects of these behaviors. In other words, these effects will ramp up with the difficulty of the course, as participation becomes more and more mandatory. And one last thing: to delve just deep enough into statistics to reject “this data set is an outlier” as a counterargument, the sample size of 396 is sufficient for statistical significance, and even the range between 15 and 20 has <code>n&gt;10</code> data.</p>
</section>
<section id="absences-vs-alcohol" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="absences-vs-alcohol">Absences vs Alcohol</h2>
<div>

</div>
<div class="cell column-page quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Final_Project_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption><i>(a) Point Plot of Absolute Frequencies</i></figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Final_Project_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid figure-img" width="672"></p>
<figcaption><i>(b) Heat Map of Relative Frequencies</i></figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<p>Figure 2.4:&nbsp;Correlation Between Absences and Alcohol (Filtered for <code>count &gt; 1</code>)</p>
</div>
</div>
</div>
<p>To consider one last element, we can visualize any correlation between absences and alcohol through two visualizations— a “Point Plot” indicating the weight of various absences and weekend alcohol consumption (Walc), and a heat map indicating the distribution of density across the former visualization. The “Point Plot” indicates that the data is most concentrated along “little Walc”: the bottom row with <code>Walc = 1</code> has a number of absences ranging from 0-5 which capture a large percentage— maybe even half— of the total number of students. Then, there is a little vertical variation in Walc among students who miss between 0 and 5 classes: students who miss between 0 and 3 classes in particular have drinking habits ranging from 2 all the way to 4. In this case, the heat map is a much better visualization: observe how the density climbs upwards around that 0 to 3 absence range, and seemingly doesn’t grow proportionally to absences.</p>
<p>The data seems to perhaps have a vertical correlation between drinking and absences, but that’s just because, as revealed by Figure 2.1, that’s three-quarters of the student sample size, so naturally the density there will be greater. Overall, there is a distinct <em>lack</em> of any correlation between weekend alcohol consumption and absences. Therefore, there is, at least in the constraints of this study, no need to be concerned with your social life affecting <em>class attendance</em>, just GPA.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>For our analysis of Weekend Drinking Habits and Average Grade, we can draw two conclusions:</p>
<ol type="1">
<li><p>The data consistently showed a gradual decline in average grades as the level of weekend alcohol consumption increased. While the decrease was modest, the trend was evident across all levels of consumption. This makes it safe to assume that for an average student, increasing drinking on the weekends would likely lead to a lower average grade, the impact increasing with every increment of “increased-drinking rating”.</p></li>
<li><p>While lower-performance students do not see much variation as the level of weekend alcohol consumption increases, there is a substantial 10% drop in the upper quartile between “1-rating”-drinking students and “5-rating”-drinking students. This makes it safe to assume that, for a student with higher standard of performance, increased drinking on the weekends disproportionately tank their ability to maintain that exceptional performance.</p></li>
</ol>
<p>In the case of absences and GPA, we can conclusively express two concepts:</p>
<ol type="1">
<li><p>First, we observe a -7% drop-off in the median average grade for students missing 15 to 20 classes, and just a 3% drop-off in the median average grade for students missing between 10 and 15 classes. Given that only 10% of students even miss between 10 and 20 classes, and only 3% of students between 15 and 20 classes, it is safe to say that for the majority of students, having to miss a few courses does not substantially impact their performance in class.</p></li>
<li><p>That being said, <strong>that sentiment is upended for courses with a greater “degree of participation”.</strong> For strong-participatory courses, such as the Math course considered in this dataset, even missing 5-10 classes in opposed to 0-5 diminished students’ median average GPA by 5%, indicating that the impact of absences scales with the difficulty of the course. Therefore, for the courses where you would most struggle to pass, attendance is key.</p></li>
</ol>
</section>
</section>
<section id="code-appendix" class="level1">
<h1>Code Appendix</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>data_math <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../data/student-mat.csv"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>data_port <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../data/student-por.csv"</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>merged <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(data_math, data_port, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"school"</span>, <span class="st">"sex"</span>, <span class="st">"age"</span>, <span class="st">"address"</span>, <span class="st">"famsize"</span>, <span class="st">"Pstatus"</span>, <span class="st">"Medu"</span>, <span class="st">"Fedu"</span>, <span class="st">"Mjob"</span>, <span class="st">"Fjob"</span>, <span class="st">"reason"</span>, <span class="st">"guardian"</span>, <span class="st">"traveltime"</span>))</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>clean <span class="ot">&lt;-</span> merged <span class="sc">%&gt;%</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(school, sex, age, <span class="at">Walc =</span> Walc.x, <span class="at">absences_math =</span> absences.x, <span class="at">absences_port =</span> absences.y, <span class="at">grade_math =</span> G3.x, <span class="at">grade_port =</span> G3.y) <span class="sc">%&gt;%</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">absences_average =</span> <span class="fu">round</span>((absences_math <span class="sc">+</span> absences_port) <span class="sc">/</span> <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grade_average =</span> (grade_math<span class="sc">+</span>grade_port)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grade_average =</span> grade_average<span class="sc">/</span><span class="dv">20</span>, <span class="at">grade_math =</span> grade_math<span class="sc">/</span><span class="dv">20</span>, <span class="at">grade_port =</span> grade_port<span class="sc">/</span><span class="dv">20</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>distribution <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(clean, <span class="fu">aes</span>(<span class="at">x =</span> grade_average)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex))</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>summary_stats <span class="ot">&lt;-</span> clean <span class="sc">%&gt;%</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">mean</span>(grade_average, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(grade_average, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">mode =</span> <span class="fu">as.numeric</span>(<span class="fu">names</span>(<span class="fu">sort</span>(<span class="fu">table</span>(grade_average), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span>])),</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">standard deviation</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sd</span>(grade_average, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>summary_stats <span class="sc">%&gt;%</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Summary Statistics for Average Grade"</span>,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">booktabs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"c"</span>, <span class="st">"c"</span>, <span class="st">"c"</span>, <span class="st">"c"</span>),</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Mean"</span>, <span class="st">"Median"</span>, <span class="st">"Mode"</span>, <span class="st">"Standard Deviation"</span>) </span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"condensed"</span>),</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">font_size =</span> <span class="dv">16</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(clean, <span class="fu">aes</span>(<span class="at">x =</span> Walc)) <span class="sc">+</span> <span class="co">#Plot for weekend alcohol consumption distribution</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="at">by =</span> <span class="dv">1</span>), <span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Weekend Alcohol Consumption (Scale of 1-5)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>, <span class="at">title =</span> <span class="st">"Histogram of Weekend Alcohol Consumption"</span>) <span class="sc">+</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot of weekend alcohol consumption and average grade</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( <span class="co"># Set our axis and data</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> clean,</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">factor</span>(Walc),</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> grade_average,</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">size =</span> .<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="co"># Label our data</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Weekend Alcohol Consumption (Scale of 1-5)"</span>,</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Average Grade"</span>,</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Level of Weekend Alcohol Consumption vs Average Grade"</span> </span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#d5e0e0"</span>)</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a histogram for the distribution of "average absences"</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(clean, <span class="fu">aes</span>(<span class="at">x =</span> absences_average)) <span class="sc">+</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">50</span>, <span class="at">by =</span> <span class="dv">5</span>), <span class="at">binwidth =</span> <span class="dv">5</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Absences (Bin Width = 5)"</span>, <span class="at">y =</span> <span class="st">"Frequency of Absences"</span>, <span class="at">title =</span> <span class="st">"Histogram of Average Absence Frequencies"</span>) <span class="sc">+</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Flooring the data to the nearest 5 (e.g. 4 -&gt; 0)</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>clean_v2 <span class="ot">&lt;-</span> clean <span class="sc">%&gt;%</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">abs_avg_group_5 =</span> <span class="fu">round</span>((absences_average)<span class="sc">/</span><span class="dv">5</span>)<span class="sc">*</span><span class="dv">5</span>)</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="co"># "Average Absences" boxplot</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( <span class="co"># Set our axis and data</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> clean_v2,</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>  <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">factor</span>(abs_avg_group_5),</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> grade_average,</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">size =</span> .<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="co"># Label our data</span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Number of School Absences"</span>,</span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Average Grade"</span>,</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Average Absences vs GPA"</span> </span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>( <span class="co"># Move the legend</span></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#d5e0e0"</span>)</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating "Distribution Groups" of MATH and PORT</span></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>median_math <span class="ot">&lt;-</span> clean <span class="sc">%&gt;%</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">abs_math_group_5 =</span> <span class="fu">round</span>((absences_math)<span class="sc">/</span><span class="dv">5</span>)<span class="sc">*</span><span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(abs_math_group_5) <span class="sc">%&gt;%</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">med_math =</span> <span class="fu">median</span>(grade_math))</span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>median_port <span class="ot">&lt;-</span> clean <span class="sc">%&gt;%</span></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">abs_port_group_5 =</span> <span class="fu">round</span>((absences_port)<span class="sc">/</span><span class="dv">5</span>)<span class="sc">*</span><span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(abs_port_group_5) <span class="sc">%&gt;%</span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">med_port =</span> <span class="fu">median</span>(grade_port))</span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a><span class="co"># Math Absences</span></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Adding lines &amp; points for both MATH and PORT absences</span></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> median_math, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> abs_math_group_5, <span class="at">y =</span> med_math, <span class="at">linetype =</span> <span class="st">"Math"</span>), <span class="at">color =</span> <span class="st">"yellow"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> median_math, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> abs_math_group_5, <span class="at">y =</span> med_math), <span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span> </span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> median_port, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> abs_port_group_5, <span class="at">y =</span> med_port, <span class="at">linetype =</span> <span class="st">"Portugese"</span>), <span class="at">color =</span> <span class="st">"violet"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> median_port, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> abs_port_group_5, <span class="at">y =</span> med_port), <span class="at">color =</span> <span class="st">"purple"</span>, <span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span> </span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="co"># Label our data</span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Number of School Absences (Out of 93)"</span>,</span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Median Grade"</span>,</span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Absences vs Class Grade (Separated by Class)"</span></span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(</span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Line Types"</span>,</span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Math"</span> <span class="ot">=</span> <span class="st">"solid"</span>, <span class="st">"Portugese"</span> <span class="ot">=</span> <span class="st">"dotdash"</span>)  <span class="co"># Defining linetypes</span></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>( </span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#d5e0e0"</span>)</span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a count for each (Walc, absences_average) point</span></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a>abs_alc_ct <span class="ot">&lt;-</span> clean <span class="sc">%&gt;%</span> </span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Walc, absences_average) <span class="sc">%&gt;%</span></span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(absences_average, Walc) <span class="sc">%&gt;%</span></span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(count <span class="sc">&gt;</span> <span class="dv">1</span>)</span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a "Geom Point" grid for "Absences vs Alcohol" (excluding the few un-supported points)</span></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> abs_alc_ct, </span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a>  <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> absences_average, </span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Walc, </span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> count</span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">5</span>)</span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a "heat map"</span></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="fu">select</span>(clean, Walc, absences_average), <span class="fu">aes</span>(<span class="at">x =</span> absences_average, <span class="at">y =</span> Walc)) <span class="sc">+</span>  </span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_2d_filled</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>